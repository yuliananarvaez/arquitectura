<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Panel Administrador</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .profile-menu {
      transition: all 0.3s ease;
      max-height: 0;
      overflow: hidden;
    }
    .profile-menu.open {
      max-height: 300px;
    }
  </style>
</head>
<body class="bg-gray-50">
  <nav class="bg-blue-400 p-4 text-white flex justify-between items-center">
    <span class="font-bold text-xl">SheMarket</span>
    <div>
      <a href="index.html" class="px-4">Salir</a>
    </div>
  </nav>
  
  <div class="flex flex-col md:flex-row">
    <!-- Barra lateral de perfil -->
    <div class="w-full md:w-64 bg-white p-6 shadow-md">
      <div class="text-center mb-4">
        <div class="w-24 h-24 rounded-full bg-gray-200 mx-auto mb-3 overflow-hidden">
          <img 
            src="static/admin.jpg" 
            alt="Foto de perfil" 
            class="w-full h-full object-cover"
          >
        </div>
        <h2 id="profileName" class="text-xl font-bold text-gray-800">Administrador</h2>
        <p id="profileEmail" class="text-gray-600">admin@example.com</p>
      </div>
      <div class="space-y-2">
        <button 
          onclick="openEditProfileModal()"
          class="w-full bg-blue-100 text-blue-600 hover:bg-blue-200 px-4 py-2 rounded-lg transition-colors"
        >
          Editar Perfil
        </button>
        <button 
          onclick="openDeleteAccountModal()"
          class="w-full bg-red-100 text-red-600 hover:bg-red-200 px-4 py-2 rounded-lg transition-colors"
        >
          Eliminar Cuenta
        </button>
      </div>
    </div>

    <!-- Contenido principal -->
    <main class="flex-1 p-4">
      <h1 class="text-2xl font-bold mb-4">Validaciones Pendientes</h1>
      
      <!-- Validación de cuentas -->
      <section class="mb-6 bg-white p-4 rounded shadow">
        <h2 class="text-lg font-semibold mb-2">Cuentas por Validar</h2>
        <div class="border-b pb-2 mb-2">
          <p><strong>Juan Carlos Pérez</strong></p>
          <p class="text-sm text-gray-600">juan@example.com - Emprendedor</p>
          <p class="text-sm">Registrado el 15/05/2023</p>
          <div class="flex mt-2">
            <button onclick="openApproveUserModal(1, 'Juan Carlos Pérez', 'juan@example.com')" class="bg-blue-400 text-white px-4 py-2 rounded flex-1 mr-2">Aprobar Cuenta</button>
            <button onclick="openRejectUserModal(1, 'Juan Carlos Pérez', 'juan@example.com')" class="bg-gray-400 text-white px-4 py-2 rounded flex-1">Rechazar Cuenta</button>
          </div>
        </div>
      </section>
      
      <!-- Validación de productos -->
      <section class="mb-6 bg-white p-4 rounded shadow">
        <h2 class="text-lg font-semibold mb-2">Productos por Validar</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="border rounded p-3">
            <img src="static/zapatos.jpg" class="w-full h-45 object-cover mb-6">
            <p class="font-semibold">Zapatos deportivos</p>
            <p class="text-sm text-gray-600">Por: María Gómez</p>
            <p class="text-sm">Precio: $120.000</p>
            <div class="flex mt-2">
              <button onclick="openApproveProductModal(1, 'Zapatos deportivos', 'María Gómez')" class="bg-blue-400 text-white px-4 py-2 rounded flex-1 mr-2">Aprobar Producto</button>
              <button onclick="openRejectProductModal(1, 'Zapatos deportivos', 'María Gómez')" class="bg-gray-400 text-white px-4 py-2 rounded flex-1">Rechazar Producto</button>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Emprendedores registrados -->
      <section class="bg-white p-4 rounded shadow">
        <h2 class="text-lg font-semibold mb-2">Emprendedores Registrados</h2>
        <ul class="list-disc pl-5">
          <li class="mb-1">
            <strong>María Gómez</strong> - 5 productos activos
            <button onclick="viewUserDetails(1)" class="ml-2 text-blue-500 text-sm">Ver detalles</button>
          </li>
          <li class="mb-1">
            <strong>Carlos Díaz</strong> - 3 productos activos
            <button onclick="viewUserDetails(2)" class="ml-2 text-blue-500 text-sm">Ver detalles</button>
          </li>
        </ul>
      </section>
    </main>
  </div>

  <!-- Modal Editar Perfil -->
  <div id="editProfileModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4">
      <h2 class="text-xl font-bold mb-4 text-center">Editar Perfil</h2>
      
      <form id="editProfileForm" class="space-y-4">
        <div>
          <label class="block text-gray-700 mb-2">Nombre:</label>
          <input 
            type="text" 
            id="editName"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          >
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Correo electrónico:</label>
          <input 
            type="email" 
            id="editEmail"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          >
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Nueva contraseña (opcional):</label>
          <input 
            type="password" 
            id="editPassword"
            placeholder="Dejar en blanco para no cambiar"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Confirmar contraseña actual:</label>
          <input 
            type="password" 
            id="currentPassword"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          >
        </div>
        
        <div class="flex space-x-2">
          <button 
            type="submit"
            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Guardar Cambios
          </button>
          <button 
            type="button"
            onclick="closeEditProfileModal()"
            class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Eliminar Cuenta -->
  <div id="deleteAccountModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4">
      <h2 class="text-xl font-bold mb-4 text-center">Eliminar Cuenta</h2>
      <p class="text-gray-700 mb-6">¿Estás seguro que deseas eliminar tu cuenta de administrador? Esta acción no se puede deshacer.</p>
      
      <form id="deleteAccountForm" class="space-y-4">
        <div>
          <label class="block text-gray-700 mb-2">Contraseña actual:</label>
          <input 
            type="password" 
            id="deletePassword"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          >
        </div>
        
        <div class="flex space-x-2">
          <button 
            type="submit"
            class="flex-1 bg-gray-400 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Eliminar Cuenta
          </button>
          <button 
            type="button"
            onclick="closeDeleteAccountModal()"
            class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Aprobar Usuario -->
  <div id="approveUserModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4">
      <h2 class="text-xl font-bold mb-4 text-center">Aprobar Cuenta</h2>
      
      <form id="approveUserForm" class="space-y-4">
        <input type="hidden" id="approveUserId">
        <div>
          <label class="block text-gray-700 mb-2">Nombre:</label>
          <p id="approveUserName" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Correo electrónico:</label>
          <p id="approveUserEmail" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Mensaje (opcional):</label>
          <textarea 
            id="approveUserMessage"
            placeholder="Mensaje de bienvenida o instrucciones adicionales"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
          ></textarea>
        </div>
        
        <div class="flex space-x-2">
          <button 
            type="submit"
            class="flex-1 bg-blue-400 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Enviar Aprobación
          </button>
          <button 
            type="button"
            onclick="closeApproveUserModal()"
            class="flex-1 bg-gray-400 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Rechazar Usuario -->
  <div id="rejectUserModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4">
      <h2 class="text-xl font-bold mb-4 text-center">Rechazar Cuenta</h2>
      
      <form id="rejectUserForm" class="space-y-4">
        <input type="hidden" id="rejectUserId">
        <div>
          <label class="block text-gray-700 mb-2">Nombre:</label>
          <p id="rejectUserName" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Correo electrónico:</label>
          <p id="rejectUserEmail" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Motivo del rechazo:</label>
          <textarea 
            id="rejectUserReason"
            placeholder="Explica los motivos del rechazo de la cuenta"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"
            required
          ></textarea>
        </div>
        
        <div class="flex space-x-2">
          <button 
            type="submit"
            class="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Enviar Rechazo
          </button>
          <button 
            type="button"
            onclick="closeRejectUserModal()"
            class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Aprobar Producto -->
  <div id="approveProductModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4">
      <h2 class="text-xl font-bold mb-4 text-center">Aprobar Producto</h2>
      
      <form id="approveProductForm" class="space-y-4">
        <input type="hidden" id="approveProductId">
        <div>
          <label class="block text-gray-700 mb-2">Nombre del producto:</label>
          <p id="approveProductName" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Emprendedor:</label>
          <p id="approveProductOwner" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Mensaje (opcional):</label>
          <textarea 
            id="approveProductMessage"
            placeholder="Mensaje sobre la aprobación del producto"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
          ></textarea>
        </div>
        
        <div class="flex space-x-2">
          <button 
            type="submit"
            class="flex-1 bg-blue-400 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Enviar Aprobación
          </button>
          <button 
            type="button"
            onclick="closeApproveProductModal()"
            class="flex-1 bg-gray-400 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Rechazar Producto -->
  <div id="rejectProductModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4">
      <h2 class="text-xl font-bold mb-4 text-center">Rechazar Producto</h2>
      
      <form id="rejectProductForm" class="space-y-4">
        <input type="hidden" id="rejectProductId">
        <div>
          <label class="block text-gray-700 mb-2">Nombre del producto:</label>
          <p id="rejectProductName" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Emprendedor:</label>
          <p id="rejectProductOwner" class="font-semibold"></p>
        </div>
        
        <div>
          <label class="block text-gray-700 mb-2">Motivo del rechazo:</label>
          <textarea 
            id="rejectProductReason"
            placeholder="Explica los motivos del rechazo del producto"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"
            required
          ></textarea>
        </div>
        
        <div class="flex space-x-2">
          <button 
            type="submit"
            class="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Enviar Rechazo
          </button>
          <button 
            type="button"
            onclick="closeRejectProductModal()"
            class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Datos del administrador (simulados)
    let adminData = {
      name: "Administrador",
      email: "admin@example.com",
      password: "admin123" // En una app real esto nunca se almacena así
    };

    // Abrir modal editar perfil
    function openEditProfileModal() {
      document.getElementById('editProfileModal').classList.remove('hidden');
      // Cargar datos actuales
      document.getElementById('editName').value = adminData.name;
      document.getElementById('editEmail').value = adminData.email;
    }

    // Cerrar modal editar perfil
    function closeEditProfileModal() {
      document.getElementById('editProfileModal').classList.add('hidden');
    }

    // Abrir modal eliminar cuenta
    function openDeleteAccountModal() {
      document.getElementById('deleteAccountModal').classList.remove('hidden');
    }

    // Cerrar modal eliminar cuenta
    function closeDeleteAccountModal() {
      document.getElementById('deleteAccountModal').classList.add('hidden');
    }

    // Abrir modal aprobar usuario
    function openApproveUserModal(userId, userName, userEmail) {
      document.getElementById('approveUserId').value = userId;
      document.getElementById('approveUserName').textContent = userName;
      document.getElementById('approveUserEmail').textContent = userEmail;
      document.getElementById('approveUserModal').classList.remove('hidden');
    }

    // Cerrar modal aprobar usuario
    function closeApproveUserModal() {
      document.getElementById('approveUserModal').classList.add('hidden');
    }

    // Abrir modal rechazar usuario
    function openRejectUserModal(userId, userName, userEmail) {
      document.getElementById('rejectUserId').value = userId;
      document.getElementById('rejectUserName').textContent = userName;
      document.getElementById('rejectUserEmail').textContent = userEmail;
      document.getElementById('rejectUserModal').classList.remove('hidden');
    }

    // Cerrar modal rechazar usuario
    function closeRejectUserModal() {
      document.getElementById('rejectUserModal').classList.add('hidden');
    }

    // Abrir modal aprobar producto
    function openApproveProductModal(productId, productName, productOwner) {
      document.getElementById('approveProductId').value = productId;
      document.getElementById('approveProductName').textContent = productName;
      document.getElementById('approveProductOwner').textContent = productOwner;
      document.getElementById('approveProductModal').classList.remove('hidden');
    }

    // Cerrar modal aprobar producto
    function closeApproveProductModal() {
      document.getElementById('approveProductModal').classList.add('hidden');
    }

    // Abrir modal rechazar producto
    function openRejectProductModal(productId, productName, productOwner) {
      document.getElementById('rejectProductId').value = productId;
      document.getElementById('rejectProductName').textContent = productName;
      document.getElementById('rejectProductOwner').textContent = productOwner;
      document.getElementById('rejectProductModal').classList.remove('hidden');
    }

    // Cerrar modal rechazar producto
    function closeRejectProductModal() {
      document.getElementById('rejectProductModal').classList.add('hidden');
    }

    // Ver detalles de usuario
    function viewUserDetails(userId) {
      alert(`Mostrando detalles del usuario ${userId}...`);
      // En una app real: abriría un modal o nueva página
    }

    // Guardar cambios de perfil
    document.getElementById('editProfileForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const name = document.getElementById('editName').value;
      const email = document.getElementById('editEmail').value;
      const newPassword = document.getElementById('editPassword').value;
      const currentPassword = document.getElementById('currentPassword').value;
      
      // Validar contraseña actual
      if (currentPassword !== adminData.password) {
        alert('La contraseña actual es incorrecta');
        return;
      }
      
      // Actualizar datos
      adminData.name = name;
      adminData.email = email;
      
      if (newPassword) {
        adminData.password = newPassword;
      }
      
      // Actualizar UI
      document.getElementById('profileName').textContent = adminData.name;
      document.getElementById('profileEmail').textContent = adminData.email;
      
      closeEditProfileModal();
      alert('Perfil actualizado correctamente');
    });

    // Eliminar cuenta de administrador
    document.getElementById('deleteAccountForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const password = document.getElementById('deletePassword').value;
      
      // Validar contraseña
      if (password !== adminData.password) {
        alert('La contraseña es incorrecta');
        return;
      }
      
      alert('Tu cuenta de administrador ha sido eliminada. Serás redirigido al inicio.');
      closeDeleteAccountModal();
      // En una app real: redirigir al inicio
    });

    // Aprobar usuario
    document.getElementById('approveUserForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const userId = document.getElementById('approveUserId').value;
      const message = document.getElementById('approveUserMessage').value;
      
      // Simular envío de notificación
      alert(`Notificación enviada al usuario ${userId}. Cuenta aprobada exitosamente.`);
      
      // Aquí actualizarías la UI (eliminar de la lista de pendientes)
      closeApproveUserModal();
    });

    // Rechazar usuario
    document.getElementById('rejectUserForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const userId = document.getElementById('rejectUserId').value;
      const reason = document.getElementById('rejectUserReason').value;
      
      // Simular envío de notificación
      alert(`Notificación enviada al usuario ${userId}. Cuenta rechazada con éxito.`);
      
      // Aquí actualizarías la UI (eliminar de la lista de pendientes)
      closeRejectUserModal();
    });

    // Aprobar producto
    document.getElementById('approveProductForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const productId = document.getElementById('approveProductId').value;
      const message = document.getElementById('approveProductMessage').value;
      
      // Simular envío de notificación
      alert(`Notificación enviada al emprendedor. Producto ${productId} aprobado exitosamente.`);
      
      // Aquí actualizarías la UI (eliminar de la lista de pendientes)
      closeApproveProductModal();
    });

    // Rechazar producto
    document.getElementById('rejectProductForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const productId = document.getElementById('rejectProductId').value;
      const reason = document.getElementById('rejectProductReason').value;
      
      // Simular envío de notificación
      alert(`Notificación enviada al emprendedor. Producto ${productId} rechazado con éxito.`);
      
      // Aquí actualizarías la UI (eliminar de la lista de pendientes)
      closeRejectProductModal();
    });

    // Cargar datos al iniciar
    window.onload = function() {
      document.getElementById('profileName').textContent = adminData.name;
      document.getElementById('profileEmail').textContent = adminData.email;
    };
  </script>
</body>
</html>